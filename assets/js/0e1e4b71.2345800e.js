"use strict";(self.webpackChunkrdk_documentation=self.webpackChunkrdk_documentation||[]).push([[14],{7500:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"RDK V/Try Out RDK","title":"Try Out RDK","description":"This guide provides step-by-step instructions for bringing up RDK using a Raspberry Pi as the target device. The document covers the necessary hardware & build setup, build instructions, and detailed flashing instructions to get your Raspberry Pi ready to run the RDK software.","source":"@site/docs/RDK V/Try Out RDK.md","sourceDirName":"RDK V","slug":"/RDK V/Try Out RDK","permalink":"/docs/RDK V/Try Out RDK","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/RDK V/Try Out RDK.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Overview","permalink":"/docs/RDK V/Overview"},"next":{"title":"Introduction","permalink":"/docs/intro"}}');var t=r(4848),i=r(8453);const d={},o=void 0,a={},c=[{value:"Build Instructions",id:"build-instructions",level:2},{value:"Flashing and bringup",id:"flashing-and-bringup",level:2},{value:"Test Setup requirements",id:"test-setup-requirements",level:2}];function l(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"This guide provides step-by-step instructions for bringing up RDK using a Raspberry Pi as the target device. The document covers the necessary hardware & build setup, build instructions, and detailed flashing instructions to get your Raspberry Pi ready to run the RDK software."}),"\n",(0,t.jsx)(n.p,{children:"The RDK port for Raspberry Pi makes the RDK software stack available on a popular hardware device. Raspberry Pi (RPI) for RDK-V supports Dunfell builds. A variety of images based on requirements can be built for RPI, such as Media Client, Media Gateway Hybrid, and IP Client STB."}),"\n",(0,t.jsx)(n.h2,{id:"build-instructions",children:"Build Instructions"}),"\n",(0,t.jsx)("h3",{children:"Build Requirements"}),"\n",(0,t.jsx)("h4",{children:"Setting up the Host Environment"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Item"}),(0,t.jsx)(n.th,{children:"Specifications"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Linux PC"}),(0,t.jsxs)(n.td,{children:["64 bit Ubuntu 18.04 LTS (Precisely supported distributions and versions are ",(0,t.jsx)(n.a,{href:"https://www.yoctoproject.org/docs/3.1/ref-manual/ref-manual.html#detailed-supported-distros",children:"here"}),")"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Free HDD Space"}),(0,t.jsx)(n.td,{children:"Minimum 100GB Free Memory Space"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Raspberry Pi development kit"}),(0,t.jsx)(n.td,{children:"Raspberry Pi 4 Model B"})]})]})]}),"\n",(0,t.jsx)("h4",{children:"Host tool versions"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Tool"}),(0,t.jsx)(n.th,{children:"Version"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Git"}),(0,t.jsx)(n.td,{children:"1.8.3.1 or greater"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Python"}),(0,t.jsx)(n.td,{children:"3.8.10"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"tar"}),(0,t.jsx)(n.td,{children:"1.24 or greater"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:"Install the following packages for setting up your host VM before building an image"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"The instructions provided below are meant to be executed via the command line on an Ubuntu machine."}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# essential package installation\r\n# super user mode is required\r\n \r\n# major essential packages\r\nsudo apt-get install gawk wget git-core diffstat unzip texinfo gcc-multilib g++-multilib build-essential chrpath socat bison curl cpio python3 python3-pip python3-pexpect xz-utils debianutils iputils-ping python3-git python3-jinja2 libegl1-mesa libsdl1.2-dev pylint3 xterm\n"})}),"\n",(0,t.jsx)(n.p,{children:"Configure bash as default command interpreter for shell scripts"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo dpkg-reconfigure dash\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Select ",(0,t.jsx)(n.strong,{children:"No"})]}),"\n",(0,t.jsx)("h4",{children:"Configure Git"}),"\n",(0,t.jsx)(n.p,{children:"Upgrade Git version to 1.8.x or higher."}),"\n",(0,t.jsx)(n.p,{children:"Once git is installed, configure your name and email using the below commands."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# review your existing configuration\r\ngit config --list --show-origin\r\n \r\n# configure user name and email address\r\ngit config --global user.name "John Doe"\r\ngit config --global user.email johndoe@example.com\r\n \r\n# configure git cookies. Needed for Gerrit to only contact the LDAP backend once.\r\ngit config --global http.cookieFile /tmp/gitcookie.txt\r\ngit config --global http.saveCookies true\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)("h4",{children:"Configure Repo tool"}),"\r\nIn order to use Yocto build system, first you need to make sure that repo is properly installed on the machine"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# create a bin directory\r\nmkdir ~/bin\r\nexport PATH=~/bin:$PATH\r\n \r\n# Download the repo tool and ensure that it is executable\r\ncurl http://commondatastorage.googleapis.com/git-repo-downloads/repo > ~/bin/repo\r\nchmod a+x ~/bin/repo\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Note:"})," it is also recommended to put credentials in .netrc when interacting with the repo."]}),"\n",(0,t.jsx)("h3",{children:"Build Steps"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# initialize the manifest with repo tool\r\nrepo init -u https://code.rdkcentral.com/r/manifests -b 6.0.0 -m rdkv.xml\r\nrepo sync --no-clone-bundle --no-tags \r\nMACHINE=raspberrypi4-64-rdk-android-mc source meta-cmf-raspberrypi/setup-environment\r\nbitbake lib32-rdk-generic-mediaclient-wpe-image\r\n   \r\n# To build tdk image\r\nbitbake lib32-rdk-generic-mediaclient-wpe-tdk-image\n"})}),"\n",(0,t.jsx)(n.h2,{id:"flashing-and-bringup",children:"Flashing and bringup"}),"\n",(0,t.jsx)(n.p,{children:"This section outlines two methods for flashing: Flashing the SD Card in a Linux environment and in a Windows environment ( using balenaEtcher App )."}),"\n",(0,t.jsx)("h3",{children:"Flashing in Linux"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Insert an SD card in the SD card port of the USB SD card reader (or Laptop). ( It is recommended to use a 32GB SD card and there should be minimum 12GB free space available in the device. )"}),"\n",(0,t.jsx)(n.li,{children:"Verify that the SD card has been detected by executing either of the commands listed below."}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$lsblk\r\n$sudo fdisk \u2013l\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ lsblk\r\nNAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT\r\nsda      8:0    0 931.5G  0 disk\r\n\u251c\u2500sda1   8:1    0   350M  0 part\r\n\u251c\u2500sda2   8:2    0     3G  0 part\r\n\u251c\u2500sda3   8:3    0 896.4G  0 part /\r\n\u251c\u2500sda4   8:4    0     1K  0 part\r\n\u2514\u2500sda5   8:5    0  31.8G  0 part [SWAP]\r\nsdb      8:16   1  14.9G  0 disk\r\n\u251c\u2500sdb1   8:17   1    40M  0 part /media/raspberrypi\r\n\u2514\u2500sdb2   8:18   1   552M  0 part /media/dd5efb34-1d40-4e50-bbc2-a75d3e02af97\r\nsr0     11:0    1  1024M  0 rom\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Type the following command to ensure that the partitions, if present, on the SD card are not mounted."}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ mount\r\n/dev/sda3 on / type ext4 (rw,errors=remount-ro)\r\nproc on /proc type proc (rw,noexec,nosuid,nodev)\r\nsysfs on /sys type sysfs (rw,noexec,nosuid,nodev)\r\nnone on /sys/fs/fuse/connections type fusectl (rw)\r\nnone on /sys/kernel/debug type debugfs (rw)\r\nnone on /sys/kernel/security type securityfs (rw)\r\nudev on /dev type devtmpfs (rw,mode=0755)\r\ndevpts on /dev/pts type devpts (rw,noexec,nosuid,gid=5,mode=0620)\r\ntmpfs on /run type tmpfs (rw,noexec,nosuid,size=10%,mode=0755)\r\nnone on /run/lock type tmpfs (rw,noexec,nosuid,nodev,size=5242880)\r\nnone on /run/shm type tmpfs (rw,nosuid,nodev)\r\nbinfmt_misc on /proc/sys/fs/binfmt_misc type binfmt_misc (rw,noexec,nosuid,nodev)\r\nrpc_pipefs on /run/rpc_pipefs type rpc_pipefs (rw)\r\nnfsd on /proc/fs/nfsd type nfsd (rw)\r\nnone on /tmp/guest-zdrO76 type tmpfs (rw,mode=700)\r\ngvfs-fuse-daemon on /var/lib/lightdm/.gvfs type fuse.gvfs-fuse-daemon (rw,nosuid,nodev,user=lightdm)\r\n/dev/sdb1 on /media/raspberrypi type vfat (rw,nosuid,nodev,uid=136,gid=148,shortname=mixed,dmask=0077,utf8=1,showexec,flush,uhelper=udisks)\r\n/dev/sdb2 on /media/dd5efb34-1d40-4e50-bbc2-a75d3e02af97 type ext3 (rw,nosuid,nodev,uhelper=udisks)\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Repeat the below command to unmount all the mounted partition present on the SD card."}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$umount <partition-mountpoint>\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ sudo umount /dev/sdb1\r\n$ lsblk\r\nNAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT\r\nsda      8:0    0 931.5G  0 disk\r\n\u251c\u2500sda1   8:1    0   350M  0 part\r\n\u251c\u2500sda2   8:2    0     3G  0 part\r\n\u251c\u2500sda3   8:3    0 896.4G  0 part /\r\n\u251c\u2500sda4   8:4    0     1K  0 part\r\n\u2514\u2500sda5   8:5    0  31.8G  0 part [SWAP]\r\nsdb      8:16   1  14.9G  0 disk\r\n\u251c\u2500sdb1   8:17   1    40M  0 part\r\n\u2514\u2500sdb2   8:18   1   552M  0 part /media/dd5efb34-1d40-4e50-bbc2-a75d3e02af97\r\nsr0     11:0    1  1024M  0 rom\r\n$ sudo umount /dev/sdb2\r\n$ lsblk\r\nNAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT\r\nsda      8:0    0 931.5G  0 disk\r\n\u251c\u2500sda1   8:1    0   350M  0 part\r\n\u251c\u2500sda2   8:2    0     3G  0 part\r\n\u251c\u2500sda3   8:3    0 896.4G  0 part /\r\n\u251c\u2500sda4   8:4    0     1K  0 part\r\n\u2514\u2500sda5   8:5    0  31.8G  0 part [SWAP]\r\nsdb      8:16   1  14.9G  0 disk\r\n\u251c\u2500sdb1   8:17   1    40M  0 part\r\n\u2514\u2500sdb2   8:18   1   552M  0 part\r\nsr0     11:0    1  1024M  0 rom\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Execute the following command to flash the image on the SD card."}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$sudo dd if=<path to ImageName.Rpi-sdimg> of=<path to SD card space> bs=4M\r\nExample:\r\n$sudo dd if=rdk-generic-mediaclient-wpe-image.Rpi-sdimg of=/dev/sdb bs=4M\r\n149+0 records in\r\n149+0 records out\r\n624951296 bytes (625 MB) copied, 39.7752 s, 15.7 MB/s\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Remove the SD card and insert it to the Raspberry Pi SD card slot."}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)("h3",{children:"Flashing in Windows"}),"\r\nTo flash the image on an SD card, you will need to download the balenaEtcher application from ",(0,t.jsx)(n.a,{href:"https://www.balena.io/etcher/",children:"here"}),"\r\nNote: Prefer to use a 32GB SD card and there should be a minimum of 12GB of free space available in the device. Be sure to remove all other portable flash drives/hard drives/SD cards from your computer before flashing the RDK image."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Open the application. Select the image from your download folder"}),"\n",(0,t.jsx)(n.li,{children:"Select the drive containing your SD card"}),"\n",(0,t.jsx)(n.li,{children:"Click \u201cFlash\u201d to copy the image onto the SD card"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.img,{alt:"Baleno Etcher 1!",src:r(9079).A+"",width:"1204",height:"755"}),"\r\n",(0,t.jsx)(n.img,{alt:"Baleno Etcher 2!",src:r(9788).A+"",width:"1204",height:"757"})]}),"\n",(0,t.jsx)(n.p,{children:"Once image flashing is done, remove the SD card from the device/laptop and insert the SD card into the microSD card slot on the underside of your Raspberry Pi."}),"\n",(0,t.jsx)(n.h2,{id:"test-setup-requirements",children:"Test Setup requirements"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Test Setup!",src:r(9365).A+"",width:"511",height:"401"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Connect TV/Monitor to HDMI video output."}),"\n",(0,t.jsx)(n.li,{children:"Connect Ethernet cable to ETH port."}),"\n",(0,t.jsx)(n.li,{children:"The other end of the Ethernet cable should be connected to the network where the DHCP server is running so that the Raspberry Pi device gets assigned an IP address on boot-up."}),"\n",(0,t.jsx)(n.li,{children:"Insert the SD card into microSD card slot."}),"\n",(0,t.jsx)(n.li,{children:"Connect the power cable to Micro USB power input."}),"\n",(0,t.jsx)(n.li,{children:"Power on the Raspberry Pi."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"TV screen will display the default RDK UI as shown below."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"UI 1!",src:r(5367).A+"",width:"963",height:"542"})}),"\n",(0,t.jsxs)(n.p,{children:["To view the Raspberry Pi's IP address(referred as machineIP from now), Go to 'Settings \u2192 Network Configuration \u2192 Network Info \u2192 see for 'IP Address''.\r\n",(0,t.jsx)(n.img,{alt:"UI 2!",src:r(3132).A+"",width:"963",height:"532"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)("h4",{children:"Accessing controller UI"}),"\r\nFor connecting to Controller UI, use URL: ",(0,t.jsx)(n.a,{href:"http://machineIP:9998",children:"http://machineIP:9998"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"UI 1!",src:r(8350).A+"",width:"1853",height:"1053"})}),"\n",(0,t.jsx)(n.p,{children:"Plugins can be enabled or disabled from controller UI."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"UI 1!",src:r(149).A+"",width:"1853",height:"1053"})}),"\n",(0,t.jsx)(n.p,{children:"For example, Wifi plugin related services can be triggered from Wi-Fi tab in controller UI. Scan and select from available networks."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"UI 1!",src:r(732).A+"",width:"1853",height:"1053"})}),"\n",(0,t.jsx)(n.p,{children:"For ssh, use ssh root@machineip.\r\nFor verifying the image details, use cat /version.txt command."})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},9079:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/tryout_rdkv_baleno_1-2d252183e2067b237bf886c92ca26353.jpg"},9788:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/tryout_rdkv_baleno_2-e2f81a351baf894c25c0bcad0b046ed8.PNG"},8350:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/tryout_rdkv_controllerUI_1-8dd70c580176c002dc9b8135decdbae4.png"},149:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/tryout_rdkv_controllerUI_2-c4cfa30fdf38cb7ef7785cbc0ae015ae.png"},732:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/tryout_rdkv_controllerUI_3-e598826874cdda4d319e653ff9fb0fa0.png"},5367:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/tryout_rdkv_screen1-3251b72852395fc3a60703749cd41dac.jpg"},3132:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/tryout_rdkv_screen2-a90e9f3beefa340a6e342680ac019f68.png"},9365:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/tryout_rdkv_testsetup-d4594651a7cccd4f51ac119b883cdb93.PNG"},8453:(e,n,r)=>{r.d(n,{R:()=>d,x:()=>o});var s=r(6540);const t={},i=s.createContext(t);function d(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);